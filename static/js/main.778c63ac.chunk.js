(this["webpackJsonpquote-machine"]=this["webpackJsonpquote-machine"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=(a(68),a(8)),s=a(9),i=a(13),u=a(10),m=a(12),d=a(62),h=(a(32),a(26)),p=a(29),g=a(11),E=a(15),f=a.n(E),b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},k=function(){return{type:"CLEAR_ERRORS"}},v=function(){return{type:"LOGOUT_SUCCESS"}},y=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},O=a(116),S=a(107),C=a(117),x=a(118),w=a(119),j=a(120),N=a(121),A=a(122),L=a(24),D=a(125),R=a(108),I=a(109),_=a(110),Q=a(111),q=a(112),T=a(113),F=a(114),G=a(115),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,name:"",email:"",password:"",msg:null},a.toggle=function(){a.props.clearErrors(),a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={name:t.name,email:t.email,password:t.password};a.props.register(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("REGISTER_FAIL"===a.id?this.setState({msg:a.msg}):this.setState({msg:null})),this.state.modal&&n&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{onClick:this.toggle,href:"#",style:{fontSize:24}},"Register"),r.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(R.a,{toggle:this.toggle},"Regsiter"),r.a.createElement(I.a,null,this.state.msg?r.a.createElement(_.a,{color:"danger"},this.state.msg):null,r.a.createElement(Q.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{for:"name"},"Name"),r.a.createElement(F.a,{type:"text",name:"name",id:"name",placeholder:"Name",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(F.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{for:"password"},"Password"),r.a.createElement(F.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),r.a.createElement(G.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Register"))))))}}]),t}(r.a.Component),M=Object(g.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r=JSON.stringify({name:t,email:a,password:n});f.a.post("https://gentle-beyond-48579.herokuapp.com/api/users/add",r,{headers:{"Content-type":"application/json"}}).then((function(t){e({type:"REGISTER_SUCCESS",payload:t.data}),window.location.reload()})).catch((function(t){e(b(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}},clearErrors:k})(U),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,email:"",password:"",msg:null},a.toggle=function(){a.props.clearErrors(),a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};a.props.login(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg}):this.setState({msg:null})),this.state.modal&&n&&this.toggle()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{onClick:this.toggle,href:"#",style:{fontSize:24}},"Login"),r.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(R.a,{toggle:this.toggle},"Login"),r.a.createElement(I.a,null,this.state.msg?r.a.createElement(_.a,{color:"danger",style:{fontSize:24}},this.state.msg):null,r.a.createElement(Q.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(T.a,{for:"email"},"Email"),r.a.createElement(F.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),r.a.createElement(T.a,{for:"password"},"Password"),r.a.createElement(F.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),r.a.createElement(G.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Login"))))))}}]),t}(r.a.Component),B=Object(g.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});f.a.post("https://gentle-beyond-48579.herokuapp.com/api/auth/",n,{headers:{"Content-type":"application/json"}}).then((function(t){e({type:"LOGIN_SUCCESS",payload:t.data}),window.location.reload()})).catch((function(t){e(b(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},clearErrors:k})(z),J=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{onClick:this.props.logout,href:"/Quote-Machine/"},"Logout"))}}]),t}(r.a.Component),P=Object(g.b)(null,{logout:v})(J),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement("span",{className:"navbar-text mr-3",style:{color:"white",fontSize:28}},r.a.createElement("strong",null,a?"Welcome ".concat(a.name):""))),r.a.createElement(O.a,null,r.a.createElement(P,null))),c=r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(S.a,{href:"/Quote-Machine/Likes"},"Likes"))),o=r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(M,null)),r.a.createElement(O.a,null,r.a.createElement(B,null)));return r.a.createElement("div",null,r.a.createElement(C.a,{color:"dark",dark:!0,expand:"sm",className:"mb-5"},r.a.createElement(x.a,null,r.a.createElement(w.a,{href:"/Quote-Machine/",style:{fontSize:38}},"Quote Machine"),r.a.createElement(j.a,{onClick:this.toggle}),r.a.createElement(N.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(A.a,{className:"mr-auto",navbar:!0},t?c:null),r.a.createElement(A.a,{className:"ml-auto",navbar:!0},t?n:o)))))}}]),t}(r.a.Component),H=Object(g.b)((function(e){return{auth:e.auth}}),null)(W),K=a(14),V=a.n(K),X=a(34),$=a(30),Y=(a(96),a(25)),Z=a(59),ee=a(21),te={token:localStorage.getItem("token"),isAuthenticated:!1,isLoading:!1,user:null},ae={msg:{},status:null,id:null},ne={quotes:[],liked:[],isLoading:!1},re=Object(Y.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(ee.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(ee.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(ee.a)({},e,{},t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(ee.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return ae;default:return e}},quotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_QUOTES":return Object(ee.a)({},e,{quotes:t.payload,loading:!1});case"GET_LIKED":return Object(ee.a)({},e,{liked:t.payload});case"TOGGLE_LIKE":return Object(ee.a)({},e,{liked:e.liked.filter((function(e){return e.quoteId!==t.payload}))});case"REMOVE_LIKED":return Object(ee.a)({},e,{liked:[]});case"LOADING_QUOTES":return Object(ee.a)({},e,{loading:!0});default:return e}}}),ce=[Z.a],oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,le=Object(Y.e)(re,{},oe(Y.a.apply(void 0,ce))),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getLikes=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,V.a.awrap(f.a.get("https://gentle-beyond-48579.herokuapp.com/api/likes/".concat(a.props.user._id),y(le.getState)));case 3:e=n.sent,t=e.data,a.setState({likes:t},(function(){void 0!==a.state.likes&&a.setState({isChecked:a.state.likes.some((function(e){return e.quoteId===a.props.quoteId&&e.active}))},(function(){a.heart.checked=a.state.isChecked}))})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a.props.logout();case 11:case"end":return n.stop()}}),null,null,[[0,8]])},a.handleCheckboxChange=function(e){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=JSON.stringify({active:e.target.checked}),!a.props.isAuthenticated){n.next=10;break}return n.prev=2,n.next=5,V.a.awrap(f.a.put("https://gentle-beyond-48579.herokuapp.com/api/likes/update/".concat(a.props.user._id,"/").concat(a.props.quoteId),t,y(le.getState)));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),a.props.logout();case 10:case"end":return n.stop()}}),null,null,[[2,7]])},a.state={likes:null,isChecked:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.getLikes()}},{key:"componentDidUpdate",value:function(e){this.props.isAuthenticated&&e.quoteId!==this.props.quoteId&&this.getLikes()}},{key:"render",value:function(){var e=this;return this.props.isAuthenticated?r.a.createElement("div",{id:"main-content"},r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:"checkbox",disabled:!this.props.isAuthenticated,onChange:this.handleCheckboxChange,ref:function(t){e.heart=t}}),r.a.createElement("label",{htmlFor:"checkbox"},r.a.createElement("svg",{id:"heart-svg",viewBox:"467 392 58 57",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Group",fill:"none",fillRule:"evenodd",transform:"translate(467 392)"},r.a.createElement("path",{d:"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z",id:"heart",fill:"#AAB8C2"}),r.a.createElement("circle",{id:"main-circ",fill:"#E2264D",opacity:"0",cx:"29.5",cy:"29.5",r:"1.5"}),r.a.createElement("g",{id:"grp7",opacity:"0",transform:"translate(7 6)"},r.a.createElement("circle",{id:"oval1",fill:"#9CD8C3",cx:"2",cy:"6",r:"2"}),r.a.createElement("circle",{id:"oval2",fill:"#8CE8C3",cx:"5",cy:"2",r:"2"})),r.a.createElement("g",{id:"grp6",opacity:"0",transform:"translate(0 28)"},r.a.createElement("circle",{id:"oval1",fill:"#CC8EF5",cx:"2",cy:"7",r:"2"}),r.a.createElement("circle",{id:"oval2",fill:"#91D2FA",cx:"3",cy:"2",r:"2"})),r.a.createElement("g",{id:"grp3",opacity:"0",transform:"translate(52 28)"},r.a.createElement("circle",{id:"oval2",fill:"#9CD8C3",cx:"2",cy:"7",r:"2"}),r.a.createElement("circle",{id:"oval1",fill:"#8CE8C3",cx:"4",cy:"2",r:"2"})),r.a.createElement("g",{id:"grp2",opacity:"0",transform:"translate(44 6)",fill:"#CC8EF5"},r.a.createElement("circle",{id:"oval2",transform:"matrix(-1 0 0 1 10 0)",cx:"5",cy:"6",r:"2"}),r.a.createElement("circle",{id:"oval1",transform:"matrix(-1 0 0 1 4 0)",cx:"2",cy:"2",r:"2"})),r.a.createElement("g",{id:"grp5",opacity:"0",transform:"translate(14 50)",fill:"#91D2FA"},r.a.createElement("circle",{id:"oval1",transform:"matrix(-1 0 0 1 12 0)",cx:"6",cy:"5",r:"2"}),r.a.createElement("circle",{id:"oval2",transform:"matrix(-1 0 0 1 4 0)",cx:"2",cy:"2",r:"2"})),r.a.createElement("g",{id:"grp4",opacity:"0",transform:"translate(35 50)",fill:"#F48EA7"},r.a.createElement("circle",{id:"oval1",transform:"matrix(-1 0 0 1 12 0)",cx:"6",cy:"5",r:"2"}),r.a.createElement("circle",{id:"oval2",transform:"matrix(-1 0 0 1 4 0)",cx:"2",cy:"2",r:"2"})),r.a.createElement("g",{id:"grp1",opacity:"0",transform:"translate(24)",fill:"#9FC7FA"},r.a.createElement("circle",{id:"oval1",cx:"2.5",cy:"3",r:"2"}),r.a.createElement("circle",{id:"oval2",cx:"7.5",cy:"2",r:"2"}))))))):null}}]),t}(r.a.Component),ie=Object(g.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{logout:v})(se),ue=a(60),me=a.n(ue),de=a(123),he=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"commentBox",style:{margin:5}},r.a.createElement(de.a,null,r.a.createElement(de.a,{left:!0,href:"#",style:{marginRight:10,marginLeft:5}},r.a.createElement("i",{className:"fa fa-user fa-xs"})),r.a.createElement(de.a,{body:!0,style:{fontSize:18}},r.a.createElement(de.a,{heading:!0,style:{fontSize:14}},this.props.userName),this.props.text,r.a.createElement(de.a,{bottom:!0,style:{fontSize:12,marginTop:5}},new Date(this.props.date).toLocaleDateString())),r.a.createElement(de.a,{right:!0,href:"#",hidden:!(null!==this.props.user&&this.props.user.name===this.props.userName),style:{marginRight:10,marginLeft:5,fontSize:"1rem"},onClick:function(){return e.props.deleteComment(e.props.commentId)}},r.a.createElement("span",{style:{color:"Tomato"}},r.a.createElement("i",{className:"fa fa-times fa-xs"})))))}}]),t}(r.a.Component),pe=Object(g.b)((function(e){return{user:e.auth.user}}),null)(he),ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getComments=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V.a.awrap(f.a.get("https://gentle-beyond-48579.herokuapp.com/api/comments/".concat(a.props.id)));case 2:e=n.sent,t=e.data,a.setState({comments:t},(function(){0===a.state.comments.length?a.setState({msg:"No comments to show here!"}):a.setState({msg:null})}));case 5:case"end":return n.stop()}}))},a.postComment=function(e){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=JSON.stringify({userName:a.props.user.name,quoteId:a.props.id,text:e}),n.prev=1,n.next=4,V.a.awrap(f.a.post("https://gentle-beyond-48579.herokuapp.com/api/comments/add",t,y(le.getState)));case 4:a.textArea.current.value="",a.getComments(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),a.props.logout();case 11:case"end":return n.stop()}}),null,null,[[1,8]])},a.deleteComment=function(e){return V.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.a.awrap(f.a.delete("https://gentle-beyond-48579.herokuapp.com/api/comments/delete/".concat(e),y(le.getState)));case 3:a.getComments(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a.props.logout();case 9:case"end":return t.stop()}}),null,null,[[0,6]])},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state.text;a.postComment(t)},a.state={modal:!1,msg:null,comments:[]},a.textArea=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getComments()}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.getComments()}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.comments.length;t++)e.push(r.a.createElement(pe,{commentId:this.state.comments[t]._id,userName:this.state.comments[t].userName,text:this.state.comments[t].text,date:this.state.comments[t].createdAt,deleteComment:this.deleteComment,key:t}));return r.a.createElement("div",null,r.a.createElement(p.b,{onClick:this.toggle,to:"#"},r.a.createElement(me.a,{transitionName:"fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},r.a.createElement("img",{className:"picture-size",key:this.props.picture,src:this.props.picture,alt:"Imagine this is the person please!"}))),r.a.createElement(D.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(R.a,{toggle:this.toggle},"Comments"),r.a.createElement(I.a,null,this.state.msg?r.a.createElement(_.a,{color:"danger",style:{fontSize:24}},this.state.msg):null,e,this.props.isAuthenticated?r.a.createElement(Q.a,{onSubmit:this.onSubmit},r.a.createElement(q.a,null,r.a.createElement(F.a,{type:"textarea",name:"text",id:"comment",placeholder:"Comment here please...\nBe nice!",className:"mb-3",onChange:this.onChange,innerRef:this.textArea}),r.a.createElement(G.a,{color:"dark",style:{marginTop:10,marginLeft:200}},"Comment"))):null)))}}]),t}(r.a.Component),Ee=Object(g.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{logout:v})(ge),fe=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"btn-group cont"},r.a.createElement("button",{type:"button",id:"newQuote",className:"btn btn-danger",onClick:e.handleClick},"Get A New Quote!"),r.a.createElement("button",{type:"button",className:"btn btn-danger dropdown-toggle dropdown-toggle-split","data-toggle":"dropdown","data-flip":"false","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("span",{className:"sr-only"},"Toggle Dropdown")),r.a.createElement("div",{id:"menu",className:"dropdown-menu"},r.a.createElement("label",{htmlFor:"all",className:"dropdown-item"},r.a.createElement("input",{id:"all",type:"checkbox",className:"check",name:"All"})," All"," "),r.a.createElement("label",{htmlFor:"romance",className:"dropdown-item"},r.a.createElement("input",{id:"romance",type:"checkbox",className:"check",name:"Romance"})," ","Romance"," "),r.a.createElement("label",{htmlFor:"motivation",className:"dropdown-item"},r.a.createElement("input",{id:"motivation",type:"checkbox",className:"check",name:"Motivation"})," ","Motivation"," "),r.a.createElement("label",{htmlFor:"friends",className:"dropdown-item"},r.a.createElement("input",{id:"friends",type:"checkbox",className:"check",name:"Friends"})," ","Friends"," "),r.a.createElement("label",{htmlFor:"life",className:"dropdown-item"},r.a.createElement("input",{id:"life",type:"checkbox",className:"check",name:"Life"})," ","Life"," "))))},be=function(e){return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{id:"tweet-quote","data-toggle":"tooltip",title:"Tweet this quote!",target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/intent/tweet?text="+e.text+" "+e.author},r.a.createElement("i",{className:"fa fa-twitter",style:{fontSize:24}})))},ke=function(){return r.a.createElement("h6",null,r.a.createElement("i",{className:"fa fa-code",style:{fontSize:18}})," With"," ",r.a.createElement("i",{className:"fa fa-heart",style:{fontSize:18}})," By Daniel Mimoun")},ve=Math.floor(10*Math.random()),ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,quotes:[],checkedQuotes:[],order:ve,id:"",text:"",author:"",picture:""},a.handleClick=a.handleClick.bind(Object($.a)(a)),a.handleDropDownChange=a.handleDropDownChange.bind(Object($.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleClick",value:function(){var e=this;0===this.state.checkedQuotes.length?this.setState({id:"",text:"No quotes to show!!",author:"",picture:""}):this.state.order===this.state.checkedQuotes.length-1||this.state.checkedQuotes.length<=this.state.order?this.setState({order:0},(function(){return e.setState({id:e.state.checkedQuotes[e.state.order]._id,text:e.state.checkedQuotes[e.state.order].text,author:e.state.checkedQuotes[e.state.order].author,picture:e.state.checkedQuotes[e.state.order].picture})})):this.setState({order:this.state.order+1},(function(){return e.setState({id:e.state.checkedQuotes[e.state.order]._id,text:e.state.checkedQuotes[e.state.order].text,author:e.state.checkedQuotes[e.state.order].author,picture:e.state.checkedQuotes[e.state.order].picture})}))}},{key:"handleDropDownChange",value:function(e){switch(e){case"AllT":this.state.quotes.map((function(e){return e.isChecked=!0})),this.setState({checkedQuotes:this.state.quotes});break;case"AllF":this.state.quotes.map((function(e){return e.isChecked=!1})),this.setState({checkedQuotes:[]});break;default:var t=this.state.quotes.reduce((function(t,a){return a.type===e&&(a.isChecked=!a.isChecked),a.isChecked&&t.push(a),t}),[]);this.setState({checkedQuotes:t})}}},{key:"componentDidMount",value:function(){var e,t,a,n,r=this;return V.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,V.a.awrap(f.a.get("https://gentle-beyond-48579.herokuapp.com/api/quotes"));case 2:e=c.sent,(t=e.data).map((function(e){return e.isChecked=!0})),this.setState({quotes:t,checkedQuotes:t},(function(){return r.setState({id:r.state.checkedQuotes[ve]._id,text:r.state.checkedQuotes[ve].text,author:r.state.checkedQuotes[ve].author,picture:r.state.checkedQuotes[ve].picture})})),this.state.checkedQuotes!==[]&&this.setState({loading:!1}),(a=Object(X.a)(document.getElementsByClassName("check"))).map((function(e){return e.checked=!0})),(n=document.getElementById("menu"))&&(n.addEventListener("click",(function(e){e.stopPropagation()}),!1),n.addEventListener("change",(function(e){e.target.checked&&"all"===e.target.id?(a.map((function(e){return e.checked=!0})),r.handleDropDownChange("AllT")):e.target.checked||"all"!==e.target.id?"all"!==e.target.id&&(a.filter((function(e,t){return t>0&&!0===e.checked})).length===a.length-1&&(a[0].checked=!0),e.target.checked||(a[0].checked=!1),r.handleDropDownChange(e.target.name)):(a.map((function(e){return e.checked=!1})),r.handleDropDownChange("AllF"))}),!1));case 11:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"row App-header"},r.a.createElement("h1",{style:{fontSize:48}},"Welcome to the Quote Machine!"),r.a.createElement("br",null),r.a.createElement(fe,{handleClick:this.handleClick}),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},this.state.loading?r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)):r.a.createElement(Ee,{picture:this.state.picture,id:this.state.id})),r.a.createElement("br",null),r.a.createElement("div",{className:"textBox"},r.a.createElement("p",{id:"text",className:""},this.state.text),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h6",{id:"author"},this.state.author)),r.a.createElement(be,{text:this.state.text,author:this.state.author}),r.a.createElement("div",{className:"col-md-4"},this.state.loading||""===this.state.id?null:r.a.createElement(ie,{quoteId:this.state.id})))),r.a.createElement("br",null),r.a.createElement(ke,null))}}]),t}(r.a.Component),Oe=a(124),Se=function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.index),r.a.createElement("td",{style:{fontSize:26}},e.text),r.a.createElement("td",{style:{fontSize:24}},e.author),r.a.createElement("td",{style:{fontSize:22}},e.type),r.a.createElement("td",null,r.a.createElement(be,{text:e.text,author:e.author})),r.a.createElement("td",null,r.a.createElement(ie,{quoteId:e.id})))},Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={likes:[],quotesData:[],isLoading:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===this.props.user){n.next=14;break}return n.next=3,V.a.awrap(f.a.get("https://gentle-beyond-48579.herokuapp.com/api/likes/".concat(this.props.user._id),y(le.getState)));case 3:return e=n.sent.data,t=JSON.stringify({likes:e.reduce((function(e,t){return t.active?[].concat(Object(X.a)(e),[t.quoteId]):e}),[])}),console.table(t),n.next=8,V.a.awrap(f.a.post("https://gentle-beyond-48579.herokuapp.com/api/quotes/liked",t,y(le.getState)));case 8:a=n.sent.data,a=JSON.parse(t).likes.map((function(e){return a.find((function(t){return e===t._id}))})),console.log(JSON.parse(t).likes),console.log(a),this.setState({likes:e,quotesData:a}),this.state.quotesData!==[]&&this.setState({isLoading:!1});case 14:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.quotesData.length;t++)e.push(r.a.createElement(Se,{index:t+1,id:this.state.quotesData[t]._id,text:this.state.quotesData[t].text,author:this.state.quotesData[t].author,type:this.state.quotesData[t].type,key:t}));return this.state.isLoading?r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)):r.a.createElement("div",null,r.a.createElement(Oe.a,{dark:!0,striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Quote"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Tweet"),r.a.createElement("th",null,"Like"))),r.a.createElement("tbody",null,e)))}}]),t}(r.a.Component),xe=Object(g.b)((function(e){return{user:e.auth.user}}),null)(Ce),we=function(){return r.a.createElement("section",null,r.a.createElement("h1",null,"Uh oh!"),r.a.createElement("p",null,"Page can't be found."),r.a.createElement(p.b,{to:"/Quote-Machine"},"Back Home"))};function je(e){var t=e.component,a=Object(d.a)(e,["component"]),n=localStorage.getItem("token");return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return null!==n?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:"/Quote-Machine",state:{from:e.location}}})}}))}var Ne=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.loadUser()}},{key:"render",value:function(){return this.props.auth.isLoading?r.a.createElement("div",{id:"",className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)):r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("div",{className:"container App"},r.a.createElement(H,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/Quote-Machine",exact:!0,component:ye}),r.a.createElement(je,{path:"/Quote-Machine/Likes",component:xe}),r.a.createElement(h.b,{component:we})))))}}]),t}(r.a.Component),Ae=Object(g.b)((function(e){return{auth:e.auth}}),{loadUser:function(){return function(e,t){e({type:"USER_LOADING"}),f.a.get("https://gentle-beyond-48579.herokuapp.com/api/auth/user",y(t)).then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(t){e(b(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})}))}}})(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g.a,{store:le},r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,a){},63:function(e,t,a){e.exports=a(106)},68:function(e,t,a){},96:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.778c63ac.chunk.js.map